//IIFE to extract dimension data 
var dimensions = (function(){
    var str = document.querySelectorAll("[name='ad.size']")[0].getAttributeNode("content").value;
    var widthMatch = /width\=(\d+)/.exec(str);
    var heightMatch = /height\=(\d+)/.exec(str);
    return {
        width: parseInt(widthMatch[1]),
        height: parseInt(heightMatch[1])
    }
})();

var tl;
var stopWatch;

//INITIALIZE
function init(){
    IDsToVars();

    container.style.width = dimensions.width + 'px';
    container.style.height = dimensions.height + 'px';

    //set timeline
    tl = new TimelineLite();

    addListeners();

    animate();
}

function addListeners(){
    //replay functionality
    /*
    replay_button.addEventListener('mouseover',function(){
        TweenLite.fromTo(replay_button, .5, {rotation:'-360'}, {overwrite:false, rotation:'0'});
    })
    replay_button.addEventListener('click',function(){
            tl.restart();
    })
    */
}

//ANIMATE
function animate(){
    stopWatch=new Date().getTime(); 

    //timeline animation here

    //.call(returnTimer)
}

function returnTimer(){
    stopWatch=((new Date().getTime())-stopWatch)*.001;
    console.log(stopWatch+" seconds");
}

function clickThrough(){
    window.open(clicktag);
}

//create global vars for IDs if desired
function IDsToVars(){
    var allElements = document.getElementsByTagName("*");

    for (var q = 0; q<allElements.length; q++){
        var el = allElements[q];
        if (el.id){
            window[el.id]=document.getElementById(el.id);
        }
    }
};